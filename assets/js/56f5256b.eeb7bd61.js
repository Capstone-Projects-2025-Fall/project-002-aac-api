"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[9510],{74591:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});r(96540);var o=r(76582),n=r(94742),s=r(74848);function i(){return(0,s.jsx)(o.A,{title:"Tic Tac Toe",children:(0,s.jsx)("div",{style:{padding:"2rem 0"},children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"}}),(0,s.jsx)(n.A,{}),(0,s.jsx)("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f5f5f5",border:"1px solid #ddd"},children:(0,s.jsx)("h3",{style:{color:"#333",marginBottom:"1rem"},children:"How to Play"})})]})})})}},94742:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(96540),n=r(74848);const s=()=>{const[e,t]=(0,o.useState)(["","","","","","","","",""]),[r,s]=(0,o.useState)("X"),[i,a]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),[l,p]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[g,x]=(0,o.useState)(!0),[h,f]=(0,o.useState)(""),[y,b]=(0,o.useState)([]),[w,C]=(0,o.useState)(null),[j,v]=(0,o.useState)(null),[S,T]=(0,o.useState)(null),R=(0,o.useRef)("X"),k=(0,o.useRef)(["","","","","","","","",""]),A=(0,o.useRef)(null),E=(0,o.useRef)([]),I=(0,o.useRef)(null),N=(0,o.useRef)(!1),P="http://localhost:8080",O=e=>{if("speechSynthesis"in window){const t=new SpeechSynthesisUtterance(e);t.rate=.9,t.pitch=1,speechSynthesis.speak(t)}},z=(e,t)=>{const r=(new Date).toLocaleTimeString(),o={id:Date.now(),timestamp:r,type:e,data:"string"==typeof t?t:JSON.stringify(t,null,2)};b((e=>[...e.slice(-9),o]))},M=async()=>{try{z("HEALTH",{action:"Checking API health..."});const e=await fetch(`${P}/health`),t=await e.json();return C(t),z("HEALTH",{status:t.status,uptime:t.uptimeFormatted,version:t.version,services:t.services}),"ok"===t.status}catch(h){return C({status:"error",error:h.message}),z("ERROR",{action:"Health check failed",error:h.message}),!1}};(0,o.useEffect)((()=>{M()}),[]);const B=e=>["top left","top center","top right","middle left","center","middle right","bottom left","bottom center","bottom right"][e],$={"top left":0,"top center":1,"top right":2,"middle left":3,center:4,"middle right":5,"bottom left":6,"bottom center":7,"bottom right":8,one:0,two:1,three:2,four:3,five:4,six:5,seven:6,eight:7,nine:8,1:0,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8},F=async e=>{try{const t=await e.arrayBuffer(),r=new(window.AudioContext||window.webkitAudioContext),o=await r.decodeAudioData(t),n=W(o),s=new Blob([n],{type:"audio/wav"});return r.close(),s}catch(h){throw console.error("Error converting audio:",h),h}},W=e=>{const t=e.length*e.numberOfChannels*2+44,r=new ArrayBuffer(t),o=new DataView(r),n=[];let s=0,i=0;const a=e=>{o.setUint16(i,e,!0),i+=2},c=e=>{o.setUint32(i,e,!0),i+=4};c(1179011410),c(t-8),c(1163280727),c(544501094),c(16),a(1),a(e.numberOfChannels),c(e.sampleRate),c(2*e.sampleRate*e.numberOfChannels),a(2*e.numberOfChannels),a(16),c(1635017060),c(t-i-4);for(let d=0;d<e.numberOfChannels;d++)n.push(e.getChannelData(d));for(;i<t;){for(let t=0;t<e.numberOfChannels;t++){let e=Math.max(-1,Math.min(1,n[t][s]));e=e<0?32768*e:32767*e,o.setInt16(i,e,!0),i+=2}s++}return r},D=async e=>{try{const t=new FormData;t.append("audioFile",e,"recording.wav"),z("REQUEST",{method:"POST",url:`${P}/upload`,audioSize:`${e.size} bytes`,commandMode:g,headers:g?{"x-command-mode":"true"}:{}});const r={};g&&(r["x-command-mode"]="true");const o=await fetch(`${P}/upload`,{method:"POST",headers:r,body:t}),n=await o.json();if(console.log("API Response:",n),void 0!==n.confidence&&v(n.confidence),void 0!==n.processingTimeMs&&T(n.processingTimeMs),z("RESPONSE",{status:o.status,success:n.success,transcription:n.transcription,confidence:n.confidence?`${(100*n.confidence).toFixed(1)}%`:"N/A",service:n.service,processingTime:n.processingTimeMs?`${n.processingTimeMs}ms`:"N/A",aac:n.aac,wordTiming:n.wordTiming?.length?`${n.wordTiming.length} words`:"N/A"}),!n.success){const e=n.error?.message||"Unknown error",t=n.error?.code||"UNKNOWN";return console.error("API error:",t,e),void(u||(f(`${t}: ${e}`),d(!1)))}n.transcription?(console.log("Transcription:",n.transcription),((e,t)=>{console.log("Voice command:",e),f("");const r=t?.aac||{};z("COMMAND",{rawCommand:e,currentPlayer:R.current,commandType:r.commandType||"unknown",isCommand:r.isCommand||!1,confidence:t?.confidence});let o=$[e];if(void 0===o)for(const[n,s]of Object.entries($))if(e.includes(n)){o=s;break}void 0!==o?(console.log("Moving to position:",o,"Current player:",R.current),z("ACTION",{action:"place_mark",position:o,player:R.current,positionName:B(o)}),U(o)):"new game"===e||"reset"===e||e.includes("new game")||e.includes("reset game")||e.includes("start over")?(z("ACTION",{action:"reset_game",command:e}),X()):e.includes("stop listening")||e.includes("stop")?(z("ACTION",{action:"stop_listening",command:e}),H()):e.includes("help")?z("ACTION",{action:"help",command:e}):(console.log("Command not recognized:",e),z("WARNING",{message:"Command not recognized",command:e,suggestion:"Try: top left, center, bottom right, new game"}),f(`Command not recognized: "${e}"`))})(n.transcription.toLowerCase().trim(),n)):u||f("No transcription received"),u||d(!1)}catch(h){console.error("Error sending audio to API:",h),z("ERROR",{action:"API request failed",error:h.message}),u||(f(`API Error: ${h.message}`),O("Error connecting to server"),d(!1))}},L=()=>{if(!I.current||!N.current)return;const e=new MediaRecorder(I.current);A.current=e,E.current=[],e.ondataavailable=e=>{e.data.size>0&&E.current.push(e.data)},e.onstop=async()=>{if(!N.current)return;const e=new Blob(E.current,{type:"audio/webm"});if(e.size>1e3){p(!1);try{const t=await F(e);await D(t)}catch(h){console.error("Error processing audio:",h),z("ERROR",{error:"Audio processing failed",message:h.message})}}N.current&&setTimeout(L,100)},e.start(),p(!0),setTimeout((()=>{"recording"===e.state&&e.stop()}),3e3)},H=()=>{N.current=!1,m(!1),d(!1),p(!1),"recording"===A.current?.state&&A.current.stop(),I.current&&(I.current.getTracks().forEach((e=>e.stop())),I.current=null),z("SYSTEM",{message:"Continuous listening stopped"})},U=e=>{const r=k.current;if(r[e]||i)return;const o=R.current,n=[...r];n[e]=o,t(n),k.current=n;B(e);const c=((e=k.current)=>{const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const[r,o,n]of t)if(e[r]&&e[r]===e[o]&&e[r]===e[n])return e[r];return null})(n);if(c)a(c),setTimeout((()=>O(`Player ${c} wins!`)),1e3);else if(n.every((e=>""!==e)))a("draw"),setTimeout((()=>O("It's a draw!")),1e3);else{const e="X"===o?"O":"X";s(e),R.current=e,setTimeout((()=>O(`${e}'s turn`)),1e3)}},X=()=>{const e=["","","","","","","","",""];t(e),k.current=e,s("X"),R.current="X",a(""),f(""),v(null),T(null)};(0,o.useEffect)((()=>()=>{I.current&&I.current.getTracks().forEach((e=>e.stop()))}),[]);const _=e=>({REQUEST:"#007bff",RESPONSE:"#28a745",COMMAND:"#6f42c1",ACTION:"#fd7e14",SYSTEM:"#17a2b8",HEALTH:"#20c997",WARNING:"#ffc107",ERROR:"#dc3545"}[e]||"#6c757d");return(0,n.jsxs)("div",{style:{textAlign:"center",fontFamily:"Arial, sans-serif",padding:"20px"},children:[(0,n.jsx)("h1",{style:{marginBottom:"10px"},children:"\ud83c\udfae Tic Tac Toe with Voice Control"}),(0,n.jsx)("p",{style:{color:"#666",marginBottom:"20px"},children:"AAC Board API Test Interface"}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px",flexWrap:"wrap"},children:[(0,n.jsxs)("div",{style:{padding:"8px 16px",backgroundColor:"ok"===w?.status?"#d4edda":"#f8d7da",borderRadius:"20px",fontSize:"14px"},children:["API: ","ok"===w?.status?"\u2705 Connected":"\u274c Disconnected",w?.version&&` (v${w.version})`]}),null!==j&&(0,n.jsxs)("div",{style:{padding:"8px 16px",backgroundColor:j>.7?"#d4edda":j>.4?"#fff3cd":"#f8d7da",borderRadius:"20px",fontSize:"14px"},children:["Confidence: ",(100*j).toFixed(0),"%"]}),null!==S&&(0,n.jsxs)("div",{style:{padding:"8px 16px",backgroundColor:S<1e3?"#d4edda":"#fff3cd",borderRadius:"20px",fontSize:"14px"},children:["\u23f1\ufe0f ",S,"ms"]})]}),!i&&(0,n.jsxs)("h2",{children:["Current Player: ",r]}),i&&"draw"!==i&&(0,n.jsxs)("h2",{style:{color:"#28a745"},children:["\ud83c\udf89 Player ",i," wins!"]}),"draw"===i&&(0,n.jsx)("h2",{style:{color:"#ffc107"},children:"\ud83e\udd1d It's a draw!"}),(0,n.jsxs)("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:[u?(0,n.jsx)("button",{onClick:H,style:{padding:"12px 24px",fontSize:"16px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"\u23f9\ufe0f Stop Listening"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:async()=>{if(await M())try{f("");const e=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0}});I.current=e,N.current=!0,m(!0),d(!0),z("SYSTEM",{message:"Continuous listening started",commandMode:g}),L()}catch(h){console.error("Error accessing microphone:",h),f("Error accessing microphone")}else f("API is not available. Please start the server.")},style:{padding:"12px 24px",fontSize:"16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"\ud83c\udfa4 Start Continuous"}),(0,n.jsx)("button",{onClick:async()=>{if(await M())try{f("");const e=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0}}),t=new MediaRecorder(e);A.current=t,E.current=[],t.ondataavailable=e=>{e.data.size>0&&E.current.push(e.data)},t.onstop=async()=>{const t=new Blob(E.current,{type:"audio/webm"});try{const e=await F(t);await D(e)}catch(h){console.error("Error processing audio:",h),f("Error processing audio"),d(!1)}e.getTracks().forEach((e=>e.stop()))},t.start(),d(!0),p(!0),O("Listening"),setTimeout((()=>{"recording"===A.current?.state&&(A.current.stop(),p(!1))}),4e3)}catch(h){console.error("Error accessing microphone:",h),f("Error accessing microphone")}else f("API is not available. Please start the server.")},disabled:c,style:{padding:"12px 24px",fontSize:"16px",backgroundColor:c?"#cccccc":"#2196F3",color:"white",border:"none",borderRadius:"8px",cursor:c?"not-allowed":"pointer"},children:l?"\ud83d\udd34 Recording...":"\ud83c\udf99\ufe0f Single Command"})]}),(0,n.jsx)("button",{onClick:X,style:{padding:"12px 24px",fontSize:"16px",backgroundColor:"#ff9800",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"\ud83d\udd04 New Game"}),(0,n.jsx)("button",{onClick:M,style:{padding:"12px 24px",fontSize:"16px",backgroundColor:"#9c27b0",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"\ud83d\udd0d Check API"})]}),(0,n.jsx)("div",{style:{marginBottom:"20px"},children:(0,n.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:"10px",cursor:"pointer",padding:"8px 16px",backgroundColor:g?"#e3f2fd":"#f5f5f5",borderRadius:"8px",border:"2px solid "+(g?"#2196F3":"#ddd")},children:[(0,n.jsx)("input",{type:"checkbox",checked:g,onChange:e=>x(e.target.checked),style:{width:"18px",height:"18px"}}),(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{children:"AAC Command Mode"}),(0,n.jsx)("br",{}),(0,n.jsx)("small",{style:{color:"#666"},children:"Optimized for short commands"})]})]})}),u&&(0,n.jsxs)("p",{style:{color:"#4CAF50",fontWeight:"bold",fontSize:"18px"},children:["ALWAYS LISTENING - ",l?"\ud83d\udd34 Recording...":"\u23f3 Processing..."]}),c&&!u&&(0,n.jsxs)("p",{style:{color:"#2196F3",fontWeight:"bold"},children:["\ud83c\udfa4 ",l?"Recording... (4 seconds)":"Processing..."]}),h&&(0,n.jsxs)("p",{style:{color:"#dc3545",backgroundColor:"#f8d7da",padding:"10px 20px",borderRadius:"8px",display:"inline-block"},children:["\u26a0\ufe0f ",h]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 100px)",gap:"5px",justifyContent:"center",margin:"20px auto"},children:e.map(((e,t)=>(0,n.jsx)("button",{onClick:()=>U(t),style:{width:"100px",height:"100px",fontSize:e?"36px":"11px",fontWeight:e?"bold":"normal",border:"2px solid #333",backgroundColor:e?"X"===e?"#e3f2fd":"#fce4ec":"white",cursor:e||i?"not-allowed":"pointer",color:e?"X"===e?"#1976d2":"#c2185b":"#999",borderRadius:"8px",transition:"all 0.2s"},disabled:!!e||!!i,children:e||["top left","top center","top right","middle left","center","middle right","bottom left","bottom center","bottom right"][t]},t)))}),(0,n.jsxs)("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#1e1e1e",border:"1px solid #333",borderRadius:"8px",maxWidth:"900px",margin:"30px auto",textAlign:"left"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,n.jsx)("h3",{style:{margin:0,color:"#fff",fontSize:"16px"},children:"\ud83d\udce1 API Log"}),(0,n.jsx)("button",{onClick:()=>b([]),style:{padding:"4px 12px",fontSize:"12px",backgroundColor:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",cursor:"pointer"},children:"Clear"})]}),(0,n.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:0===y.length?(0,n.jsx)("p",{style:{color:"#666",fontStyle:"italic",margin:0},children:"No API activity yet. Try using voice commands!"}):y.map((e=>(0,n.jsxs)("div",{style:{marginBottom:"8px",padding:"8px 12px",backgroundColor:"#2d2d2d",borderLeft:`3px solid ${_(e.type)}`,borderRadius:"4px",fontFamily:"Monaco, Consolas, monospace",fontSize:"12px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[(0,n.jsx)("span",{style:{color:_(e.type),fontWeight:"bold"},children:e.type}),(0,n.jsx)("span",{style:{color:"#666"},children:e.timestamp})]}),(0,n.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#d4d4d4"},children:e.data})]},e.id)))})]}),(0,n.jsxs)("div",{style:{marginTop:"20px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",maxWidth:"600px",margin:"20px auto"},children:[(0,n.jsx)("h4",{style:{margin:"0 0 10px 0"},children:"\ud83d\udde3\ufe0f Voice Commands"}),(0,n.jsxs)("p",{style:{margin:"5px 0",color:"#555"},children:[(0,n.jsx)("strong",{children:"Positions:"}),' "top left", "center", "bottom right", etc.']}),(0,n.jsxs)("p",{style:{margin:"5px 0",color:"#555"},children:[(0,n.jsx)("strong",{children:"Numbers:"}),' "one" through "nine" (1-9)']}),(0,n.jsxs)("p",{style:{margin:"5px 0",color:"#555"},children:[(0,n.jsx)("strong",{children:"Control:"}),' "new game", "reset", "stop listening", "help"']})]})]})}}}]);